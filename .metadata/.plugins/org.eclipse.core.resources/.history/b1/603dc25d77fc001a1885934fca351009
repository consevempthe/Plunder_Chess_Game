package client;

import java.net.*;
import java.io.*; 


public class Client 
{ 
	private final String serverName;
	private final int serverPort;  
	private Socket socket; 
	private InputStream serverIn;
	private OutputStream serverOut;


  
    // constructor to put ip address and port 
    public Client(String address, int port) 
    { 
    	this.serverName = address;
    	this.serverPort = port;
    }

    public void request(String request) throws IOException {
    	serverOut.write(request.getBytes());
    }

	public boolean connect() {
		try {
			this.socket = new Socket(serverName, serverPort);
			this.serverIn = socket.getInputStream();
			this.serverOut = socket.getOutputStream();
			return true;
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return false;
	}

	public String response() throws IOException {
		BufferedReader reader = new BufferedReader(new InputStreamReader(serverIn));
		String response = reader.readLine();
		String next = reader.readLine();
		while( reader.readLine() != null) {
			
		}
		return reader.readLine();
	} 
} 

//// establish a connection 
//try
//{ 
//  socket = new Socket(address, port); 
//  System.out.println("Connected"); 
//
//  // takes input from terminal 
//  input  = new DataInputStream(System.in); 
//
//  // sends output to the socket 
//  out    = new DataOutputStream(socket.getOutputStream()); 
//} 
//catch(UnknownHostException u) 
//{ 
//  System.out.println(u); 
//} 
//catch(IOException i) 
//{ 
//  System.out.println(i); 
//} 
//
//// string to read message from input 
//String line = ""; 
//
//// keep reading until "Over" is input 
//while (!line.equals("Over")) 
//{ 
//  try
//  { 
//      line = input.readLine(); 
//      out.writeUTF(line); 
//  } 
//  catch(IOException i) 
//  { 
//      System.out.println(i); 
//  } 
//} 
//
//// close the connection 
//try
//{ 
//  input.close(); 
//  out.close(); 
//  socket.close(); 
//} 
//catch(IOException i) 
//{ 
//  System.out.println(i); 
//} 